# 版本历史

## v1.0.4 (2025-10-20) - 当前版本

### 主要变更
- ✅ **开户数据获取优化**：移除 akshare 备用方案，仅使用 Wind API
- ✅ **Wind API 接口**：使用 `w.edb("M0010401")` 获取最新开户数据
- ✅ **代码简化**：移除过时的 akshare 相关代码

### 数据源
- 融资余额：Wind API (`w.wset`) → 东方财富网
- 开户数：**Wind API (`w.edb` M0010401)** ⭐ 唯一数据源
- 量价背离：XtQuant → akshare
- 估值百分位：akshare

### 评分规则
- 融资余额：0-1分
- 开户数：0-1.5分 ⭐
- 量价背离：0-1分+
- 估值百分位：0-1分
- **总分范围**：0-4.5分

---

## v1.0.3 (2025-10-20) - 已废弃

### 主要变更
- ~~优先使用 akshare 获取开户数据~~
- ✅ 开户数评分规则调整：满分从1.0提升到1.5

### 废弃原因
- akshare 数据只更新到2023年8月
- 数据过时，不适用于实时监控

---

## v1.0.2 (2025-10-20)

### 主要变更
- ✅ 修复 Wind API 导入错误
- ✅ 融资余额获取方法优化：使用 `w.wset` 标准接口

### 技术改进
- Wind API 导入方式：`from WindPy import w`
- 融资余额接口：`w.wset("margintradingsizeanalys(value)")`
- 字段使用：`period_net_purchases`（期间净买入额）

---

## v1.0.1 (2025-10-20)

### 主要变更
- ✅ 项目初始化
- ✅ 完整版和简化版双版本设计
- ✅ 4个评分指标全部实现

### 核心功能
- 融资余额评分（0-1分）
- 开户数评分（0-1分）
- 量价背离评分（0-1分+）
- 估值百分位评分（0-1分）

### 数据源（v1.0.1）
- 融资余额：Wind/XtQuant → 东方财富网 → akshare
- 开户数：Wind → akshare → 中国结算
- 量价背离：XtQuant → akshare
- 估值百分位：akshare

---

## 版本对比

| 版本 | 开户数数据源 | 开户数满分 | 总分范围 | 状态 |
|------|-------------|-----------|---------|------|
| v1.0.4 | Wind API (M0010401) | 1.5 | 0-4.5 | ✅ 当前 |
| v1.0.3 | akshare → Wind | 1.5 | 0-4.5 | ❌ 废弃 |
| v1.0.2 | Wind → akshare | 1.0 | 0-4.0 | ⚠️ 旧版 |
| v1.0.1 | Wind → akshare | 1.0 | 0-4.0 | ⚠️ 初版 |

## 升级建议

### 从 v1.0.1/v1.0.2 升级到 v1.0.4

1. **必须安装 Wind 终端**
   - 开户数据已移除 akshare 备用方案
   - 必须使用 Wind API 才能获取最新数据

2. **评分规则变化**
   - 开户数满分：1.0 → 1.5
   - 总分范围：4.0 → 4.5
   - 需要重新评估逃顶阈值

3. **代码变更**
   - Wind API 接口更新
   - 移除过时的 akshare 代码

### 从 v1.0.3 升级到 v1.0.4

1. **数据源变化**
   - 移除 akshare 优先方案
   - 仅保留 Wind API

2. **优势**
   - 代码更简洁
   - 数据更及时
   - 维护更容易

## 未来计划

### v1.1.0 (计划中)
- 添加北向资金指标
- 添加两融占比指标
- 支持个股逃顶分析

### v1.2.0 (计划中)
- Web界面
- 邮件/微信通知
- 历史回测功能

### v2.0.0 (远期)
- 机器学习模型
- 多市场支持
- 实时监控系统

---

**当前版本**: v1.0.4  
**更新日期**: 2025-10-20  
**维护状态**: ✅ 活跃维护

