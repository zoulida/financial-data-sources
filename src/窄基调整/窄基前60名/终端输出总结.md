# 终端输出总结

## 程序运行状态

### 分析程序执行结果

根据终端输出显示，`analyze_performance.py` 已成功运行并完成分析。

### 输出信息

```
分析完成！
结果文件:
  - zhaiji_stocks_performance.csv
  - zhaiji_summary.csv
```

## 生成的数据文件

### 1. zhaiji_stocks_performance.csv

**数据统计:**
- 总记录数: 684条
- 涉及的指数: 多个指数（包括180金融、5G通信、CS人工智能等）
- 观察窗口: 数据截止日窗口（cutoff_date）

**数据结构:**
```
列名:
- stock_code: 股票代码
- center_date: 观察中心日期（数据截止日）
- trading_days_count: 交易日数量
- avg_daily_return: 平均日涨跌幅
- cumulative_return: 累计涨跌幅
- win_rate: 胜率
- volume_change_rate: 成交量变化率
- max_daily_return: 最大日涨跌幅
- min_daily_return: 最小日涨跌幅
- volatility: 波动率
- index_name: 指数名称
- index_code: 指数代码
- effective_date: 生效日
- window_type: 窗口类型
```

**数据分析示例:**

180金融指数 (000018.SH) - 2025-06-16生效:
- 601825.SH: 累计涨跌 +1.52%, 胜率50%, 交易天数8天
- 601838.SH: 累计涨跌 -1.03%, 胜率37.5%, 成交量变化 +27.47%
- 601077.SH: 累计涨跌 +3.38%, 胜率62.5%, 波动率1.70%

5G通信指数 (931079.CSI) - 2025-06-16生效:
- 300570.SZ: 累计涨跌 +6.95%, 胜率50%, 成交量变化 -17.64%
- 003031.SZ: 累计涨跌 +4.65%, 胜率62.5%, 成交量变化 +67.65%
- 603881.SH: 累计涨跌 +10.54%, 胜率62.5%, 波动率3.85%

### 2. zhaiji_summary.csv

**汇总统计信息:**
- 按指数分组的统计分析
- 包含: 股票数量、平均涨跌幅、波动率、胜率等

**部分结果解读:**
- 第1行: 12只股票，平均累计涨跌+2.38%，平均胜率48.2%
- 第2行: 13只股票，平均累计涨跌+0.19%，平均胜率49.65%
- 高表现指数: 某指数17只股票，平均累计涨跌+17.33%，胜率62.12%

## 程序执行特点

### 超时设置
- 超时时间: 2秒（用户调整为2秒）
- 超时机制: 使用装饰器 `@with_timeout(2)`
- 重试机制: 最多3次重试

### 数据获取过程
程序会显示每只股票的获取状态：
```
获取: 601825.SH
✓ 成功获取 8 条数据
```

### 观察窗口
- 部分股票显示"未获取到数据"
- 可能原因：股票停牌、数据缺失、时间窗口过大
- 自动跳过无效数据继续处理

## 性能指标

### 处理速度
- 超时时间: 2秒/只股票
- 重试间隔: 1秒
- 实际处理速度：根据股票数量和数据可用性

### 成功率
- 成功获取数据并分析的股票占比较高
- 失败案例多为停牌股票或数据缺失

## 分析结果亮点

### 1. 总体表现
- 大部分新纳入股票在数据截止日前呈现正向收益
- 平均累计涨跌幅多为正值
- 胜率集中在40%-60%区间

### 2. 行业特征
- **金融板块**: 表现相对平稳，波动率较低
- **科技板块**: 波动率较高，但收益潜力大
  - 5G通信股最高累计涨跌 +10.54%
  - CS人工智能等科技股表现优异

### 3. 成交量特征
- 成交量的变化幅度较大（-27% 至 +111%）
- 说明纳入指数引起了显著的交易量变化

### 4. 风险指标
- 波动率范围较广（1.0-4.5）
- 个别股票波动率可达4.48%
- 需要注意风险控制

## 建议

### 1. 数据完善
- 补充缺失的股票数据
- 增加生效日窗口的分析

### 2. 分析扩展
- 添加更多观察周期（如10天、20天）
- 对比不同时间窗口的表现差异
- 分析成交量与涨跌幅的相关性

### 3. 可视化
- 生成各类图表展示分析结果
- 制作指数效应对比图
- 行业分布雷达图

### 4. 深入研究
- 分析高表现股票的共同特征
- 研究纳入效应持续时间
- 探讨市场情绪对纳入效应的影响

## 运行日志

### 程序启动
```
✓ 使用项目数据下载模块
```

### 数据获取过程
```
  获取: 601825.SH
  ✓ 成功获取 8 条数据
  获取: 601838.SH
  ✓ 成功获取 8 条数据
  获取: 601077.SH
  ✓ 成功获取 8 条数据
  ...
```

### 最终输出
```
分析完成！
结果文件:
  - zhaiji_stocks_performance.csv
  - zhaiji_summary.csv
```

## 文件清单

### 生成的文件
1. `zhaiji_stocks_performance.csv` ✅ (684条记录)
2. `zhaiji_summary.csv` ✅ (已生成)

### 临时文件
- 无临时文件产生

### 日志文件
- 无独立日志文件（输出到终端）

## 下一步

1. **数据验证**
   - 检查数据完整性和准确性
   - 对比原始变动数据验证结果

2. **深入分析**
   - 使用生成的数据进行进一步统计分析
   - 识别潜在的投资机会

3. **报告生成**
   - 创建可视化报告
   - 生成分析结论和建议

## 技术细节

### 超时机制
- 设置: 2秒
- 实现: 线程 + join超时
- 兼容性: Windows平台

### 数据源
- 主要: 项目数据下载模块 (`getDayData`)
- 缓存: 自动使用缓存机制
- 复权: 前复权处理

### 错误处理
- 超时自动重试
- 数据缺失自动跳过
- 异常不影响其他股票处理

