# 批量指数成分股变动分析 - 当前状态

## 项目进度

### 已完成
1. ✅ 筛选出前20名指数（排除港股通）
2. ✅ 创建了批量分析程序 `batch_analyze.py`
3. ✅ 已开始数据下载，已完成2个指数：
   - 沪深300 (000300.SH)
   - 中证A500 (000510.SH)

### 进行中
- 正在下载剩余18个指数的成分股变动数据
- 数据下载完成后将自动进行新纳入股票表现分析

### 待完成
- 18个指数：科创50、上证50、中证500、创业板指、中证1000、证券公司、国证芯片、创业板50、科创芯片、中证医疗、中证白酒、科创创业50、红利低波、CS人工智能、中证银行、中证军工、中证A50、机器人

## 使用方法

### 1. 查看当前进度
```bash
cd "D:\pythonProject\数据源\src\窄基调整\前n名"
python check_progress.py
```

### 2. 继续运行批量分析
```bash
python batch_analyze.py
```

程序会自动：
- 跳过已完成的数据
- 继续下载未完成的数据
- 对每个指数分析新纳入股票表现

## 输出文件说明

### 变动数据文件
- `{指数名称}_{指数代码}_changes.csv` - 各指数的成分股变动数据

### 分析结果文件
- `all_indices_newly_included_analysis.csv` - 所有新纳入股票表现分析结果
- `indices_summary_report.csv` - 按指数统计的汇总报告

## 分析内容

### 关键日期计算
- 数据截止日 = 生效日前第二个自然月的最后一个自然日
- 观察窗口 = 数据截止日前后各5个交易日

### 表现指标
- 涨跌幅和累计涨跌幅
- 成交量变化率
- 胜率（上涨天数占比）
- 最大/最小涨跌幅
- 波动率

## 注意事项

1. **数据量较大**：分析20个指数需要较长时间（预计1-2小时）
2. **API配额**：注意Wind API使用频率限制
3. **网络稳定**：需要稳定的网络连接
4. **结果保存**：每个指数的数据都会单独保存，可随时查看进度

## 下一步计划

1. 等待所有数据下载完成
2. 生成综合统计报告
3. 对比不同指数的表现
4. 提取关键发现和结论
